(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[145],{3018:function(e,n,t){"use strict";t.r(n),t.d(n,{block:function(){return i},details:function(){return s},link:function(){return r},quote:function(){return a},rainbow:function(){return c},shake:function(){return l},spin:function(){return u},summary:function(){return o}}),t(9911);var i="bumawiki_zxwd513",s="bumawiki_zxwd510",r="bumawiki_zxwd512",a="bumawiki_zxwd514",c="bumawiki_zxwd519",l="bumawiki_zxwd516",u="bumawiki_zxwd518",o="bumawiki_zxwd511"},7539:function(e,n,t){Promise.resolve().then(t.bind(t,9823)),Promise.resolve().then(t.bind(t,2693)),Promise.resolve().then(t.bind(t,4727)),Promise.resolve().then(t.bind(t,7404)),Promise.resolve().then(t.bind(t,9434)),Promise.resolve().then(t.bind(t,5368)),Promise.resolve().then(t.bind(t,2736)),Promise.resolve().then(t.bind(t,4671)),Promise.resolve().then(t.bind(t,8972)),Promise.resolve().then(t.bind(t,4039)),Promise.resolve().then(t.bind(t,8749)),Promise.resolve().then(t.bind(t,6838)),Promise.resolve().then(t.bind(t,3668)),Promise.resolve().then(t.bind(t,3584))},9823:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return R}});var i=t(1590),s=t(3488),r=t(3575),a=t.n(r),c=t(5594),l=t(4039),u=t(8749),o=t(7404),d=t(4967),m=t(3966),f=t(4123),p=t(7046);let b=async e=>{let{data:n}=await f.d.get("/docs/thumbs/up/get/".concat(e));return n},h=async e=>{let{data:n}=await f.d.get("/docs/like/".concat(e),(0,p.j)());return n},j=async e=>{let{data:n}=await f.d.post("/thumbs/up/create",{docsId:e},(0,p.j)());return n},v=async e=>{let{data:n}=await f.d.delete("/thumbs/up/delete",{...(0,p.j)(),data:{docsId:e}});return n},g={likeCount:e=>(0,m.C)({queryKey:["query.like",e],queryFn:()=>b(e)}),isILike:e=>(0,m.C)({queryKey:["query.isILike",e],queryFn:()=>h(e)})};var E=t(8511),y=t(7493),w=t(5967),x=t(1819),k=t(5313),N=t(4671);let _=()=>(0,N.useMutation)({mutationFn:e=>j(e)}),S=()=>(0,N.useMutation)({mutationFn:e=>v(e)});var C=t(614),T=t(1179),A=t(1214),F=t(9953);t(9431);var R=e=>{var n;let{title:t,frameNameList:r}=e,m=r.map(e=>d.v.title(e)),f=(0,l.useQueries)({queries:m}).map(e=>{let{data:n}=e;return n}),{data:p,isSuccess:b}=(0,u.useQuery)(d.v.title(t)),{isLoggedIn:h}=(0,w.aF)(),j=(0,o.useQueryClient)(),{data:v}=(0,u.useQuery)(g.likeCount(t)),{data:N}=(0,u.useQuery)({...g.isILike(null!==(n=null==p?void 0:p.id)&&void 0!==n?n:-1),enabled:b}),{mutate:R}=_(),{mutate:D}=S();return b?(0,i.jsx)(s.Suspense,{children:(0,i.jsxs)(E.default,{...p,children:[(0,i.jsxs)("header",{className:"bumawiki_z9qijr1",children:[(0,i.jsxs)("p",{className:"bumawiki_z9qijr8",children:["문의를 통해 본인 문서의 기재되길 원치않는 특정 내용을 즉시 삭제할 수 있습니다.",(0,i.jsx)("br",{}),"문서 기재로 발생한 이슈에 대해 부마위키 팀은 아무런 책임을 지지 않으며, 수사 기관에 편집 기록과 관련된 데이터를 제공할 수 있습니다."]}),(0,i.jsxs)("button",{onClick:()=>{let e=()=>{var e;j.invalidateQueries(g.isILike(null!==(e=null==p?void 0:p.id)&&void 0!==e?e:-1)),j.invalidateQueries(g.likeCount(t))};return h?N?D(p.id,{onSuccess:e}):void R(p.id,{onSuccess:e}):(0,k.Am)((0,i.jsx)(x.Z,{content:"로그인 후 이용해주세요!"}))},className:"bumawiki_z9qijr3",children:[(0,i.jsx)(y.lM,{isLike:N,width:16,height:16}),v.thumbsUpsCount]})]}),p.docsType===A.Ff.틀?(0,i.jsx)(C.Z,{...p,mode:F.g.READ}):(0,i.jsxs)(i.Fragment,{children:[f.filter(e=>e&&e.docsType===A.Ff.틀).map(e=>(0,i.jsx)(C.Z,{...e,mode:F.g.READ},e.id)),(0,i.jsx)("section",{className:"bumawiki_z9qijr2",dangerouslySetInnerHTML:{__html:a().sanitize((0,T.iT)(p.contents))}})]}),(0,i.jsxs)("footer",{className:"bumawiki_z9qijr4",children:[(0,i.jsx)("h1",{className:"bumawiki_z9qijr5",children:"문서 기여자"}),(0,i.jsx)("ul",{className:"bumawiki_z9qijr6",children:p.contributors.map(e=>(0,i.jsx)(c.default,{href:"/user/".concat(e.id),className:"bumawiki_z9qijr7",children:e.nickName},e.id))})]})]})}):null}},8511:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return f}});var i=t(1590),s=t(5594),r=t(5541),a=t(8203),c=t(5313),l=t(7404),u=t(4967),o=t(1214),d=t(5967);t(8527);var m=t(1819),f=e=>{let{docsType:n,title:t,lastModifiedAt:f,docsDetail:p,id:b,children:h}=e,{mutate:j}=(0,r.mo)(),{formatDate:v}=(0,d.Yc)(),{isAdmin:g,user:E,isLoggedIn:y}=(0,d.aF)(),{openConfirm:w}=(0,d.dd)(),x=(0,l.useQueryClient)(),k=(0,a.useRouter)(),N=()=>{b&&j(b,{onSuccess:()=>{x.invalidateQueries(u.v.list(n.toLowerCase())),x.invalidateQueries(u.v.lastModified(0)),k.push("/"),(0,c.Am)((0,i.jsx)(m.Z,{content:"문서를 삭제했어요!"}))}})};return(0,i.jsxs)("div",{className:"bumawiki_11j9bm00",children:[(0,i.jsxs)("hgroup",{className:"bumawiki_11j9bm01",children:[(0,i.jsxs)("div",{className:"bumawiki_11j9bm02",children:[(0,i.jsxs)("h1",{className:"bumawiki_11j9bm08",children:["부마위키:",t]}),p&&f&&(0,i.jsxs)("span",{className:"bumawiki_11j9bm07",children:["최근 편집 \xb7 ",v(f)]})]}),p&&(0,i.jsxs)("div",{className:"bumawiki_11j9bm03",children:[(0,i.jsx)("button",{onClick:()=>y?t.includes(E.name)?(0,c.Am)((0,i.jsx)(m.Z,{content:"자신과 관련된 문서는 수정할 수 없습니다."})):void k.push("/edit/".concat(t)):(0,c.Am)((0,i.jsx)(m.Z,{content:"로그인 후 이용 가능합니다."})),className:"bumawiki_11j9bm04",children:"문서 편집"}),(0,i.jsx)(s.default,{href:"/history/".concat(t),className:"bumawiki_11j9bm05",children:"역사"}),g&&b&&(0,i.jsx)("button",{onClick:()=>{w({content:"정말 문서를 삭제하시겠습니까?",onConfirm:N})},className:"bumawiki_11j9bm06",children:"삭제"})]})]}),(0,i.jsxs)("div",{className:"bumawiki_11j9bm09",children:["분류 : ",(0,i.jsx)("span",{className:"bumawiki_11j9bm0a",children:o.Ff[n]||n})]}),(0,i.jsx)("main",{className:"bumawiki_11j9bm0b",children:h})]})}},614:function(e,n,t){"use strict";var i=t(1590),s=t(1179);n.Z=e=>{var n;let{title:t,contents:r,docsType:a,mode:c}=e,l=(0,s.Pb)(r)?JSON.parse(r):[],u=null===(n=l[0])||void 0===n?void 0:n[0].color;return(0,i.jsxs)("details",{className:"frame_details",open:"WRITE"===c,children:[(0,i.jsx)("summary",{className:"frame_caption",style:{backgroundColor:u},children:(0,i.jsxs)("div",{children:[null!=t?t:"제목을 입력해주세요",(0,i.jsx)("br",{}),(0,i.jsx)("span",{className:"frame_fold",children:"[ 펼치기 \xb7 접기 ]"})]})}),(0,i.jsx)("table",{className:"frame_table",style:{borderColor:u},children:(0,i.jsx)("tbody",{children:l.map((e,n)=>(0,i.jsx)("tr",{children:e.map(e=>(0,i.jsx)("td",{colSpan:e.colSpan,rowSpan:e.rowSpan,className:"frame_td",style:{borderColor:u},"aria-label":"present td's content",children:(0,i.jsx)("div",{dangerouslySetInnerHTML:{__html:(0,s.iT)(e.content)}})},e.key))},n))})})]})}},9953:function(e,n,t){"use strict";t.d(n,{g:function(){return c},U:function(){return l}}),(s=r||(r={})).EDIT="EDIT",s.CREATE="CREATE",s.READ="READ",s.WRITE="WRITE";var i,s,r,a,c=r;(i=a||(a={})).INSERT="INSERT",i.DELETE="DELETE",i.EQUAL="EQUAL";var l=a},1214:function(e,n,t){"use strict";t.d(n,{Ff:function(){return i},HB:function(){return s},C1:function(){return r}});var i={MENTOR_TEACHER:"멘토 선생님",MAJOR_TEACHER:"전공교과 선생님",TEACHER:"보통교과 선생님",ACCIDENT:"사건/사고",CLUB:"전공 동아리",FREE_CLUB:"사설 동아리",READONLY:"읽기전용",NOTICE:"공지사항",STUDENT:"학생",FRAME:"틀",MYPAGE:"마이페이지",USER:"유저","멘토 선생님":"MENTOR_TEACHER","전공교과 선생님":"MAJOR_TEACHER","보통교과 선생님":"TEACHER","사건/사고":"ACCIDENT","전공 동아리":"CLUB","사설 동아리":"FREE_CLUB",읽기전용:"READONLY",공지사항:"NOTICE",학생:"STUDENT",틀:"FRAME",마이페이지:"MYPAGE",유저:"USER"},s={ADMIN:"관리자",READONLY:"읽기전용 사용자(밴)",USER:"유저",BANNED:"읽기전용 사용자(밴)"},r={BUYING:"구매 요청 중",SELLING:"판매 요청 중",BOUGHT:"구매 완료",SOLD:"판매 완료",CANCELLED:"거래 취소",DELISTING:"상장 폐지"}},5541:function(e,n,t){"use strict";t.d(n,{JD:function(){return a},a:function(){return u},aF:function(){return c},mo:function(){return l},xf:function(){return r}});var i=t(4671),s=t(6546);let r=()=>(0,i.useMutation)({mutationFn:s.v3}),a=()=>(0,i.useMutation)({mutationFn:s.ri}),c=()=>(0,i.useMutation)({mutationFn:s.K5}),l=()=>(0,i.useMutation)({mutationFn:s.GE}),u=()=>(0,i.useMutation)({mutationFn:s.MR})},9722:function(e,n,t){"use strict";t.d(n,{rS:function(){return r}});let i=function(){let{direction:e="unset",align:n="unset",justify:t="unset"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{display:"flex",flexDirection:e,justifyContent:t,alignItems:n}};i(),i({align:"center",justify:"center"}),i({align:"center"}),i({justify:"center"}),i({align:"center",justify:"flex-start"}),i({align:"center",justify:"space-between"}),i({align:"center",justify:"flex-end"}),i({direction:"column"}),i({direction:"column",align:"center",justify:"center"}),i({direction:"column",align:"center"}),i({direction:"column",justify:"center"}),i({direction:"column",align:"center",justify:"flex-start"}),i({direction:"column",align:"center",justify:"space-between"}),i({direction:"column",align:"center",justify:"flex-end"});let s=(e,n,t,i)=>({fontWeight:e,fontSize:"".concat(n,"rem"),lineHeight:"".concat(t,"%"),letterSpacing:"".concat(i,"px")});s(700,4.5,130,-1.5),s(700,3.75,130,-.5),s(700,3,130,0),s(700,2.75,130,0),s(700,2.5,130,0),s(700,2.25,140,.25),s(700,1.75,140,0),s(600,1.5,140,.15),s(600,1.3,140,.15),s(600,1.25,140,.15),s(600,1.125,140,.15),s(600,1,140,.15),s(400,1.125,140,.15),s(400,1,160,-.15),s(400,.875,160,-.1),s(400,.625,160,-.1),s(500,1.125,130,0),s(500,1,130,0),s(400,.875,130,0),s(700,.875,130,0),s(400,.75,140,0),s(500,1,130,0),s(400,1,130,0);var r={primary:"#274168",gray:"#ccc",boldgray:"#929292",white:"#fff",background:"#f5f5f5",black:"#000000",classify:"#EC9F19",title:"#545454",link:"#0038FF",red:"#ff0000",hover:"#f2f3f7",insert:"#CCFFD8",delete:"#FFD7D5",equal:"#F6F8FA",cover:"#ececec50",line:"#f0f0f0",preview:"#F6FAFD",buy:"#F75467",sell:"#0083B6",btnHover:"#7f94b4"}},1179:function(e,n,t){"use strict";t.d(n,{n1:function(){return r},Zs:function(){return a},iT:function(){return f},Pb:function(){return p},ar:function(){return b},wO:function(){return h}});let i=(e,n,t)=>e.includes("링크")?"</".concat(e.substring(0,e.indexOf(" ")),">").concat(n.slice(t,n.length)):"</".concat(e).concat(n.slice(t,n.length)),s=e=>{let{target:n}=e,{selectionStart:t,value:i}=n,{inputType:s}=e.nativeEvent;return{target:n,selection:t,value:i,inputType:s}};var r=e=>{let{target:n,selection:t,value:r,inputType:a}=s(e);if(">"!==r[t-1]||"deleteContentBackward"===a)return r;let c=r.slice(0,t),l=c.length,u=c.substring(c.lastIndexOf("<"),l),o=u.slice(1,l);if(!u.includes("<")||o.includes("/"))return r;let d="".concat(c).concat(i(o,r,t));return c.slice(c.lastIndexOf("<"),l).split(">").length>2?r:(setTimeout(()=>{n.selectionStart=t,n.selectionEnd=t}),d)},a=(e,n)=>{let t=n/e*100;return 1===n?1:t>=70?9:t>=58?8:t>=40?7:t>=28?6:t>=12?5:t>=8?4:t>=3?3:2},c=t(9722),l=t(3018);let u=e=>e.replace(/<<(.*?)>>:{(.*?)}/gi,'<이미지%@T src="$1" width="$2%" />').replace(/<([A-Za-z]+)[^>]*>.*?<\/\1>/gi,"").replace(/<([A-Za-z]+)[^>]*\/>/gi,"").replace(/<([A-Za-z]+)([^>]*)\/?\s*>/gi,"").replaceAll("이미지%@T","img").replace(/&#.*;/gi,""),o=e=>e.replace(/<빨강>([\s\S]*?)<\/빨강>/gi,"<span style='color: red;'>$1</span>").replace(/<주황>([\s\S]*?)<\/주황>/gi,"<span style='color: orange;'>$1</span>").replace(/<노랑>([\s\S]*?)<\/노랑>/gi,"<span style='color: yellow;'>$1</span>").replace(/<초록>([\s\S]*?)<\/초록>/gi,"<span style='color: green;'>$1</span>").replace(/<파랑>([\s\S]*?)<\/파랑>/gi,"<span style='color: blue;'>$1</span>").replace(/<보라>([\s\S]*?)<\/보라>/gi,"<span style='color: purple;'>$1</span>").replace(/<하양>([\s\S]*?)<\/하양>/gi,"<span style='color: white;'>$1</span>").replace(/<무지개>([\s\S]*?)<\/무지개>/gi,'<span class="'.concat(l.rainbow,'">$1</span>')),d=e=>e.replace(/include\((.*?)\);/gi,"").replace(/<항목>([\s\S]*?)<\/항목>/gi,"<li style='list-style: disc';>$1</li>").replace(/<어록>([\s\S]*?)<\/어록>/gi,'<div class="'.concat(l.quote,'";>$1</div>')).replace(/<블록>([\s\S]*?)<\/블록>/gi,'<div class="'.concat(l.block,'";>$1</div>')).replace(/<강조>([\s\S]*?)<\/강조>/gi,"<strong>$1</strong>").replace(/<취소선>([\s\S]*?)<\/취소선>/gi,'<del style="color: '.concat(c.rS.gray,'">$1</del>')).replace(/<빙글빙글>([\s\S]*?)<\/빙글빙글>/gi,'<div class="'.concat(l.spin,'">$1</div>')).replace(/<삐슝빠슝>([\s\S]*?)<\/삐슝빠슝>/gi,'<div class="'.concat(l.shake,'">$1</div>')).replace(/<소제목>([\s\S]*?)<\/소제목>/gi,'</details><details open class="'.concat(l.details,'"><summary class="').concat(l.summary,'">$1</summary>')).replace(/<링크 문서=\{(.*?)\}>(.*?)<\/링크>/g,'<a class="'.concat(l.link,"\" href='/docs/$1'>$2</a>")).replace(/<외부링크 문서=\{(.*?)\}>(.*?)<\/외부링크>/g,'<a class="'.concat(l.link,"\" href='$1'>$2</a>")),m=e=>e.replace(/<사진 \{(.*?)\}>(.*?)<\/사진>/g,'<img style="max-width: 100%; width: $1" src="$2" />').replace(/<비디오 \{(.*?)\}>(.*?)<\/비디오>/g,'<video style="max-width: 100%; width: $1" src="$2" controls /></video>').replace("bumawiki.s3.ap-northeast-2.amazonaws.com","cdn.buma.wiki");var f=e=>m(o(d(u(e)))),p=e=>{if("string"!=typeof e)return!1;try{let n=JSON.parse(e);return"object"==typeof n&&null!==n}catch(e){return!1}},b=e=>{let n=String(e).replace(/\D/g,"").split("").reverse().join("").match(/.{1,3}/g);return null==n?void 0:n.join(",").split("").reverse().join("")},h=e=>"".concat(e.replace(/<[^>]+>/g," ")," ...")}},function(e){e.O(0,[748,943,862,75,900,637,759,750,744],function(){return e(e.s=7539)}),_N_E=e.O()}]);